var xe=Object.defineProperty,ye=Object.defineProperties;var be=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var H=(t,n,r)=>n in t?xe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,Q=(t,n)=>{for(var r in n||(n={}))ne.call(n,r)&&H(t,r,n[r]);if(B)for(var r of B(n))re.call(n,r)&&H(t,r,n[r]);return t},V=(t,n)=>ye(t,be(n));var ae=(t,n)=>{var r={};for(var a in t)ne.call(t,a)&&n.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&B)for(var a of B(t))n.indexOf(a)<0&&re.call(t,a)&&(r[a]=t[a]);return r};var se=(t,n,r)=>(H(t,typeof n!="symbol"?n+"":n,r),r);import{r as d,j as e,a as Ce,u as k,b as Y,c as l,F as N,A as Se,T as ie,G as o,B as w,d as f,S as oe,I as Pe,P as $e,C as b,n as I,e as ce,f as S,V as Le,g as Ee,U as ke,h as Ne,i as Z,k as R,s as y,l as P,R as K,m as E,o as U,L as le,p as Oe,W as Ae,q as Ie,D as Re,t as We,v as Fe,N as q,O as Te,w as De,Q as Be,x as Ue,y as qe,z as je,E as Me,H as ze}from"./vendor.35076faa.js";const Ge=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}};Ge();var fe;const D=class{static get(){return D._jwt}static set(n){D._jwt=n,localStorage.setItem("jwt",n)}static delete(){D._jwt=null,localStorage.removeItem("jwt")}};let O=D;se(O,"_jwt",(fe=localStorage.getItem("jwt"))!=null?fe:null);const de={setUser:t=>t,signOut:()=>{},user:null},ue=d.exports.createContext(de),_e=({children:t})=>{const[n,r]=d.exports.useState(de.user),a=d.exports.useCallback(()=>{r(null),O.delete()},[]);return e(ue.Provider,{value:{user:n,setUser:r,signOut:a},children:t})},j=()=>d.exports.useContext(ue),he=Ce.create({baseURL:"/",headers:{"Content-Type":"application/json",Accept:"application/json"}}),X=async(t,n,r)=>(await he(n,{method:t,data:r}).catch(a=>({data:a.response.data}))).data,W=async(t,n,r)=>(await he(n,{method:t,data:r,headers:{Authorization:`Bearer ${O.get()}`}}).catch(a=>({data:a.response.data}))).data,He="api/auth",J=()=>async(t,n)=>{var a;const r=await W("GET",He);return r.success?t(r.data.username,r.data.authenticated):n((a=r.error)!=null?a:"internal error")};var Qe="/assets/logo.33d22f45.png";function F({height:t}){return e("img",{style:{height:t},src:Qe,alt:"Communications LTD Logo"})}function Ve(){const t=k(),n=Y("home"),r=Y("clients/*"),a=Y("changePassword"),{user:s,signOut:i}=j();return l(N,{children:[e(Se,{color:"inherit",children:e(ie,{children:l(o,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"nowrap",children:[e(o,{item:!0,children:e(F,{height:48})}),l(o,{item:!0,container:!0,flexGrow:1,justifyContent:"center",columnSpacing:1,children:[e(o,{item:!0,children:e(w,{disabled:!!n,variant:"text",onClick:()=>t("/home"),children:"Home"})}),e(o,{item:!0,children:!!s&&e(w,{disabled:!!r,variant:"text",onClick:()=>t("/clients"),children:"Manage Clients"})}),e(o,{item:!0,children:!!s&&e(w,{disabled:!!a,variant:"text",onClick:()=>t("/changePassword"),children:"Change Password"})})]}),e(o,{item:!0,children:s&&l(f,{variant:"body2",textAlign:"center",children:["Hi ",s]})}),e(o,{item:!0,children:s?e(w,{variant:"text",color:"secondary",onClick:i,children:"Logout"}):e(w,{variant:"contained",onClick:()=>t("/login"),children:"Login"})})]})})}),e(ie,{})]})}const Ye="api/passwordStrength",Ze=()=>async(t,n)=>{var r;try{const a=await X("GET",Ye);return a.success?t(a.data.strength):n((r=a.error)!=null?r:"Get Password Strength Error")}catch{n("Get Password Strength Error")}},Ke=({condition:t})=>{const[n,r]=d.exports.useState(!1),{minLength:a,minNumbers:s,minUppercase:i,minLowercase:c,minSymbols:u}=t,g=d.exports.useRef(null),x=h=>h?`Minimum length: ${h}.`:null,C=h=>h?`At least ${h} digit${h>=2?"s":""}.`:null,$=h=>h?`At least ${h} uppercase letter${h>=2?"s":""}.`:null,L=h=>h?`At least ${h} lowercase letter${h>=2?"s":""}.`:null,p=h=>h?`At least ${h} symbol${h>=2?"s":""}.`:null,A=[x(a),C(s),$(i),L(c),p(u)].filter(h=>h).map((h,T)=>l(f,{variant:"body2",children:[h,e("br",{})]},T));return l(N,{children:[l(o,{container:!0,spacing:1,alignItems:"center",children:[e(o,{item:!0,children:e(oe,{ref:g,onClick:()=>r(!0),children:e(Pe,{})})}),e(o,{item:!0,children:e(f,{variant:"subtitle2",color:"secondary",children:"PasswordStrength"})})]}),e($e,{open:n,onClose:()=>r(!1),anchorEl:g==null?void 0:g.current,anchorOrigin:{horizontal:"center",vertical:"bottom"},children:l(b,{children:[e(f,{variant:"body1",children:"Password must satisfy: "}),A]})})]})},M=I.div`
  background-color: #afafaf;
  width: 40px;
  height: 7px;
  margin-right: 4px;
  border-radius: 5px;
`,Xe=I(M)`background-color:#ff4343;`,Je=I(M)`background-color:#ffd966;`,et=I(M)`background-color:#5ccb4d;`,tt=I.div`
  display:flex;
  align-content:center;
`,nt=({strength:t})=>{const n=[e(Xe,{}),e(Je,{}),e(et,{})],r=(a,s)=>{var i;return(i=n.find((c,u)=>u===a-1&&s<=u))!=null?i:e(M,{})};return l(tt,{children:[r(t,0),r(t,1),r(t,2)]})},rt={minLength:10,minNumbers:1,minUppercase:1,minLowercase:1,minSymbols:1};var me;(function(t){t[t.None=0]="None",t[t.Weak=1]="Weak",t[t.Medium=2]="Medium",t[t.Strong=3]="Strong"})(me||(me={}));const at=()=>new Promise((t,n)=>Ze()(t,n)),st=()=>{const{data:t}=ce("password-strength",at);return t!=null?t:rt},it=(t,n)=>{const{minLength:r,minNumbers:a,minUppercase:s,minLowercase:i,minSymbols:c}=n;let u=3;return r&&t.length<r&&u--,c&&z(t,ot)<c&&u--,a&&z(t,dt)<a&&u--,s&&z(t,lt)<s&&u--,i&&z(t,ct)<i&&u--,u>0?u:0};function ge({value:t}){const n=st(),r=it(t,n);return l(o,{container:!0,spacing:1,justifyContent:"flex-end",alignItems:"center",children:[e(o,{item:!0,children:e(Ke,{condition:n})}),e(o,{item:!0,children:e(nt,{strength:r})})]})}const z=(t,n)=>((t||"").match(n)||[]).length,ot=/[^a-zA-Z0-9]/g,ct=/[a-z]/g,lt=/[A-Z]/g,dt=/\d/g,G=t=>{const[n,r]=d.exports.useState("password");return e(S,V(Q({},t),{type:n,InputProps:{endAdornment:e(oe,{onClick:()=>r(a=>a==="password"?"text":"password"),children:n==="password"?e(Le,{}):e(Ee,{})})}}))},ut="api/updatePassword",ht=(t,n,r)=>async(a,s)=>{var i;try{const c=await W("POST",ut,{oldPassword:t,newPassword:n,newPasswordRepeat:r});return c.success?a(c.data.token):s((i=c.error)!=null?i:"Internal Error")}catch{s("Internal Error")}},_=s=>{var i=s,{loading:t,disabled:n,children:r}=i,a=ae(i,["loading","disabled","children"]);return e(w,V(Q({},a),{disabled:n||t,startIcon:t&&e(ke,{size:24}),children:r}))},mt=(t,n,r)=>new Promise(ht(t,n,r));function gt(){const[t,n]=d.exports.useState(""),[r,a]=d.exports.useState(""),[s,i]=d.exports.useState(""),c=Ne(),u=k(),{isLoading:g,error:x,mutate:C,reset:$}=Z(()=>mt(t,r,s),{onSuccess:p=>{O.set(p),c.invalidateQueries("clients").finally(()=>u("/clients"))}});return l(N,{children:[e(b,{maxWidth:"sm",children:e("form",{onSubmit:p=>{p.preventDefault(),C()},children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,children:e(f,{variant:"h3",color:"primary",children:"Change Password"})}),e(o,{item:!0,xs:12,children:e(f,{variant:"body1",children:"Please enter you old password and create a new one."})}),e(o,{item:!0,xs:12,children:e(S,{fullWidth:!0,required:!0,variant:"standard",label:"Old Password",type:"password",value:t,onChange:p=>n(p.target.value)})}),e(o,{item:!0,xs:12,children:e(G,{fullWidth:!0,required:!0,variant:"standard",label:"New Password",value:r,onChange:p=>a(p.target.value)})}),e(o,{item:!0,xs:12,children:e(G,{fullWidth:!0,required:!0,variant:"standard",label:"New Password repeat",value:s,onChange:p=>i(p.target.value)})}),e(o,{item:!0,xs:12,children:e(ge,{value:r})}),e(o,{item:!0,xs:12,container:!0,spacing:1,children:e(o,{item:!0,children:e(_,{loading:g,variant:"contained",type:"submit",children:"Change Password"})})})]})})}),e(R,{open:!!x,message:x,anchorOrigin:{horizontal:"center",vertical:"bottom"},action:e(w,{variant:"text",onClick:$,children:"Dismiss"})})]})}var pt="/assets/change_password_splash.a90f14a8.png";const wt=y("img")`
  height:460px;
  width:460px;
`,ft=y(b)`
  margin-top:${({theme:t})=>t.spacing(2)};
  margin-bottom:${({theme:t})=>t.spacing(2)};
  overflow:hidden;
`,vt=y(P)`
  min-width : ${({theme:t})=>t.breakpoints.values.md}px;
`;function xt(){return e(ft,{maxWidth:"lg",children:l(vt,{direction:"row",justifyContent:"space-between",children:[e(gt,{}),e(wt,{src:pt})]})})}function yt(){return e(K,{children:e(E,{path:"/*",element:e(xt,{})})})}var bt="/assets/new_client_splash.378449f9.png";const Ct="api/clients",St=t=>async(n,r)=>{var a;try{const s=await W("POST",Ct,t);return s.success?n():r((a=s.error)!=null?a:"Internal Error")}catch{r("Internal Error")}},Pt=()=>{const[t,n]=d.exports.useState(""),[r,a]=d.exports.useState(" "),[s,i]=d.exports.useState(""),[c,u]=d.exports.useState(""),[g,x]=d.exports.useState(""),[C,$]=d.exports.useState(!1),[L,p]=d.exports.useState(""),A=k(),h=()=>A("..");return l(N,{children:[e(b,{maxWidth:"sm",children:e("form",{onSubmit:m=>{m.preventDefault(),$(!0),St({fullname:t,dob:r,email:s,phoneNumber:c,address:g})(h,p).finally(()=>$(!1))},children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,children:e(f,{variant:"h3",color:"primary",children:"Add a new client"})}),e(o,{item:!0,xs:12,children:e(S,{fullWidth:!0,required:!0,variant:"standard",label:"Full name",name:"name",value:t,onChange:m=>n(m.target.value)})}),e(o,{item:!0,xs:12,children:e(S,{fullWidth:!0,required:!0,variant:"standard",label:"Date of Birth",name:"dob",type:"date",value:r,onChange:m=>a(m.target.value)})}),e(o,{item:!0,xs:12,children:e(S,{fullWidth:!0,required:!0,variant:"standard",label:"Email",name:"email",type:"email",value:s,onChange:m=>i(m.target.value)})}),e(o,{item:!0,xs:12,children:e(S,{fullWidth:!0,required:!0,variant:"standard",label:"Phone Number",name:"phone",type:"tel",value:c,onChange:m=>u(m.target.value)})}),e(o,{item:!0,xs:12,children:e(S,{fullWidth:!0,required:!0,variant:"standard",label:"Address",name:"address",value:g,onChange:m=>x(m.target.value)})}),e(o,{item:!0,xs:12,container:!0,spacing:1,children:C?e("p",{children:"Loading..."}):l(N,{children:[e(o,{item:!0,children:e(w,{variant:"contained",type:"submit",children:"Save"})}),e(o,{item:!0,children:e(w,{variant:"text",color:"secondary",onClick:h,children:"Cancel"})})]})})]})})}),e(R,{open:!!L.length,message:L,anchorOrigin:{horizontal:"center",vertical:"bottom"},action:e(w,{variant:"text",onClick:()=>p(""),children:"Dismiss"})})]})},$t=U("img")`
  height:460px;
  width:460px;
`,Lt=U(b)`
  margin-top:${({theme:t})=>t.spacing(2)};
  margin-bottom:${({theme:t})=>t.spacing(2)};
  overflow:hidden;
`,Et=U(P)`
  min-width : ${({theme:t})=>t.breakpoints.values.md}px;
`,kt=()=>e(Lt,{maxWidth:"lg",children:l(Et,{direction:"row",children:[e(Pt,{}),e($t,{src:bt})]})}),Nt=()=>e(kt,{}),Ot="api/clients",At=()=>async(t,n)=>{var r;try{const a=await W("GET",Ot);return a.success?t(a.data):n((r=a.error)!=null?r:"Internal Error")}catch{n("Internal Error")}},It=[{field:"FullName",headerName:"Full name",width:150},{field:"Email",headerName:"Email",width:200},{field:"Address",headerName:"Address",width:240},{field:"PhoneNumber",headerName:"Phone number",width:130},{field:"DateOfBirth",headerName:"Date of Birth",width:110}],Rt=()=>new Promise((t,n)=>{At()(r=>t(r.clients),n)}),Wt=()=>{const{data:t,isLoading:n,error:r}=ce("clients",Rt);return n?l(N,{children:[e(le,{}),e(f,{variant:"h6",children:"Loading clients..."})]}):!t||t.length===0?e(f,{variant:"h6",children:"You don't have any clients. Create clients by pressing the button above."}):!!r||!t?l(f,{variant:"h6",textAlign:"center",children:["Error getting clients: ",r]}):e(Oe,{height:700,children:e(Ae,{rows:t.map(Ft),columns:It})})},Ft=t=>{const{Id:n,FullName:r,Email:a,Address:s,PhoneNumber:i,DateOfBirth:c}=t;return{id:n,FullName:r,Email:a,Address:s,PhoneNumber:i,DateOfBirth:Tt(c)}},Tt=t=>{const n=new Date(t);return[n.getDate(),n.getMonth()+1,n.getFullYear()].join("/")},Dt=()=>{const t=k();return e(b,{maxWidth:"md",sx:{my:2},children:l(P,{direction:"column",spacing:1,children:[e(w,{startIcon:e(Ie,{}),variant:"contained",onClick:()=>t("new"),children:"Create New Client"}),e(Re,{}),e(Wt,{})]})})},Bt=()=>l(K,{children:[e(E,{path:"/",element:e(Dt,{})}),e(E,{path:"new",element:e(Nt,{})})]});var Ut="/assets/login_splash.33d11958.png";const qt="api/login",jt=(t,n)=>async(r,a)=>{var s;try{const i=await X("POST",qt,{username:t,password:n});return i.success?r(i.data.token):a((s=i.error)!=null?s:"Internal Error")}catch{a("Internal Error")}};function Mt(){const[t,n]=d.exports.useState(""),[r,a]=d.exports.useState(""),[s,i]=d.exports.useState(!1),[c,u]=d.exports.useState(""),{setUser:g}=j(),x=k();function C(m,ee){g(m)}function $(m){alert(m)}function L(m){O.set(m),J()(C,$)}function p(m){u(m)}const A=m=>{m.preventDefault(),h()},h=async()=>{u(""),i(!0),await jt(t,r)(L,p),i(!1)};return e("form",{onSubmit:A,children:l(b,{maxWidth:"sm",children:[l(P,{spacing:2,children:[e(F,{height:64}),e(f,{variant:"h3",color:"primary",children:"Welcome Back!"}),e(S,{fullWidth:!0,required:!0,variant:"standard",label:"Username",name:"username",value:t,onChange:m=>n(m.target.value)}),e(G,{fullWidth:!0,required:!0,variant:"standard",label:"Password",name:"password",value:r,onChange:m=>a(m.target.value)}),l(P,{direction:"row",spacing:1,children:[e(_,{loading:s,variant:"contained",type:"submit",children:"Login"}),e(w,{disabled:s,variant:"outlined",onClick:()=>x("/register"),children:"Sign-up"})]}),e(zt,{to:"/forgotPassword",children:e(f,{variant:"subtitle1",color:"primary",children:"Forgot password?"})})]}),e(R,{open:!!c.length,message:c,anchorOrigin:{horizontal:"center",vertical:"bottom"},action:e(w,{variant:"text",onClick:()=>u(""),children:"Dismiss"})})]})})}const zt=U(We)`
  text-decoration:none;
  &:hover *{
    font-weight:700;
  }
`,Gt=y("img")`
  height:600px;
`,_t=y(b)`
  margin-top:${({theme:t})=>t.spacing(2)};
  margin-bottom:${({theme:t})=>t.spacing(2)};
  overflow:hidden;
`,Ht=y(P)`
  min-width : ${({theme:t})=>t.breakpoints.values.md}px;
  box-shadow:0 0 0 2px ${({theme:t})=>t.palette.primary.main} inset;
`,Qt=y("div")`
  margin: ${({theme:t})=>t.spacing(1)};
`,Vt=()=>e(_t,{maxWidth:"lg",children:l(Ht,{direction:"row",justifyContent:"space-between",children:[e(Qt,{children:e(Mt,{})}),e(Gt,{src:Ut})]})});function Yt(){return e(Vt,{})}var pe="/assets/register_splash.e0eb86e4.png";const Zt="api/register",Kt=(t,n,r)=>async(a,s)=>{var c;const i=await X("POST",Zt,{email:t,username:n,password:r});return i.success?a(i.data.token):s((c=i.error)!=null?c:"internal error")},Xt=6;function Jt(){const[t,n]=d.exports.useState(""),[r,a]=d.exports.useState(""),[s,i]=d.exports.useState(""),[c,u]=d.exports.useState(""),[g,x]=d.exports.useState(""),[C,$]=d.exports.useState(!1),[L,p]=d.exports.useState(""),{setUser:A}=j(),h=k(),T=v=>{i(v),u(Fe.isEmail(v)?"":"Email is invalid")},m=v=>{n(v),a(v.length<Xt?"Username too short":"")};function ee(v,In){A(v)}function ve(v){O.set(v),J()(ee,te)}function te(v){p(v)}return e(b,{maxWidth:"sm",children:l("form",{onSubmit:async v=>{v.preventDefault(),p(""),$(!0),await Kt(s,t,g)(ve,te),$(!1)},children:[l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,children:e(F,{height:64})}),e(o,{item:!0,xs:12,children:e(f,{variant:"h3",color:"primary",children:"Register"})}),e(o,{item:!0,xs:12,children:e(S,{fullWidth:!0,required:!0,variant:"standard",label:"Email",name:"email",value:s,helperText:c,error:!!c,onChange:v=>T(v.target.value)})}),e(o,{item:!0,xs:12,children:e(S,{fullWidth:!0,required:!0,variant:"standard",label:"Username",name:"username",value:t,helperText:r,error:!!r,onChange:v=>m(v.target.value)})}),e(o,{item:!0,xs:12,children:e(G,{fullWidth:!0,required:!0,variant:"standard",label:"Password",name:"password",value:g,onChange:v=>x(v.target.value)})}),e(o,{item:!0,xs:12,children:e(ge,{value:g})}),e(o,{item:!0,container:!0,xs:12,spacing:1,children:C?e("p",{children:"Loading..."}):l(N,{children:[e(o,{item:!0,children:e(w,{type:"submit",variant:"contained",children:"Sign-up"})}),e(o,{item:!0,children:e(w,{variant:"outlined",onClick:()=>h("/login"),children:"Go to Login"})})]})})]}),e(R,{open:!!L.length,message:L,anchorOrigin:{horizontal:"center",vertical:"bottom"},action:e(w,{variant:"contained",color:"secondary",onClick:()=>p(""),children:"Dismiss"})})]})})}const en=y("img")`
  height:600px; 
`,tn=y(b)`
  margin-top:${({theme:t})=>t.spacing(2)};
  margin-bottom:${({theme:t})=>t.spacing(2)};
  overflow:hidden;
`,nn=y(P)`
  min-width : ${({theme:t})=>t.breakpoints.values.md}px;
  box-shadow:0 0 0 2px ${({theme:t})=>t.palette.primary.main} inset;
`,rn=y("div")`
  margin: ${({theme:t})=>t.spacing(1)};
`,an=()=>e(tn,{maxWidth:"lg",children:l(nn,{direction:"row",justifyContent:"space-between",children:[e(rn,{children:e(Jt,{})}),e(en,{src:pe})]})});function sn(){return e(an,{})}var on="/assets/footer.59dcbe09.png";const cn=I.img`
  position:fixed;
  width:100%;
  max-height:84px;
  overflow:hidden;
  bottom:0;
`,ln=()=>e(cn,{src:on}),dn="api/forgotPassword",un=t=>async(n,r)=>{var a;try{const s=await W("POST",dn,{email:t});return s.success?n(!0):r((a=s.error)!=null?a:"Internal Error")}catch{r("Internal Error")}},hn=t=>new Promise((n,r)=>un(t)(n,r)),mn=({email:t,setEmail:n,onFinish:r})=>{const a=k(),{mutate:s,reset:i,error:c,isLoading:u}=Z(()=>hn(t),{onSuccess:r});return e("form",{onSubmit:C=>{C.preventDefault(),s()},children:l(b,{maxWidth:"sm",children:[l(P,{spacing:2,children:[e(F,{height:64}),e(f,{variant:"h3",color:"primary",children:"Forgot password?"}),e(f,{variant:"body1",children:"Enter your email address to set a new password."}),e(S,{fullWidth:!0,required:!0,variant:"standard",label:"Email",name:"email",type:"email",value:t,onChange:C=>n(C.target.value)}),l(P,{direction:"row",spacing:1,children:[e(_,{loading:u,variant:"contained",type:"submit",children:"Next"}),e(w,{disabled:u,variant:"text",color:"secondary",onClick:()=>a("/login"),children:"Login"})]})]}),e(R,{open:!!c,message:c,anchorOrigin:{horizontal:"center",vertical:"bottom"},action:e(w,{variant:"text",onClick:i,children:"Dismiss"})})]})})},gn="api/verifyPassword",pn=(t,n)=>async(r,a)=>{var s;try{const i=await W("POST",gn,{email:t,otp:n});return i.success?r(i.data.newPassword):a((s=i.error)!=null?s:"Internal Error")}catch{a("Internal Error")}},wn=(t,n)=>new Promise((r,a)=>{pn(t,n)(r,a)}),fn=({onNewPassword:t,email:n})=>{const[r,a]=d.exports.useState(""),{error:s,isLoading:i,mutate:c,reset:u}=Z(()=>wn(n,r),{onSuccess:x=>{t(x)}});return e("form",{onSubmit:x=>{x.preventDefault(),c()},children:l(b,{maxWidth:"sm",children:[l(P,{spacing:2,children:[e(F,{height:64}),e(f,{variant:"h3",color:"primary",children:"Enter Code"}),e(f,{variant:"body1",children:"Enter the one time code you received on your email."}),e(S,{fullWidth:!0,required:!0,variant:"standard",label:"One time code",name:"otp",value:r,onChange:x=>a(x.target.value)}),e(_,{loading:i,variant:"contained",type:"submit",children:"Reset password"})]}),e(R,{open:!!s,message:s,anchorOrigin:{horizontal:"center",vertical:"bottom"},action:e(w,{variant:"text",onClick:u,children:"Dismiss"})})]})})},vn=({newPassword:t,onFinish:n})=>e(b,{maxWidth:"sm",children:l(P,{spacing:2,children:[e(F,{height:64}),e(f,{variant:"h3",color:"primary",children:"Password updated!"}),e(f,{variant:"body1",children:"This is your new password, please change it upon login."}),e(f,{variant:"h6",children:t}),e(w,{variant:"contained",onClick:n,children:"Login"})]})}),xn=y("img")`
  height:600px; 
`,yn=y(b)`
  margin-top:${({theme:t})=>t.spacing(2)};
  margin-bottom:${({theme:t})=>t.spacing(2)};
  overflow:hidden;
`,bn=y(P)`
  min-width : ${({theme:t})=>t.breakpoints.values.md}px;
  box-shadow:0 0 0 2px ${({theme:t})=>t.palette.primary.main} inset;
`,Cn=y("div")`
  margin: ${({theme:t})=>t.spacing(1)};
`;var we;(function(t){t[t.Email=0]="Email",t[t.Otp=1]="Otp",t[t.NewPassword=2]="NewPassword"})(we||(we={}));const Sn=()=>{const[t,n]=d.exports.useState(0),r=k(),[a,s]=d.exports.useState(""),[i,c]=d.exports.useState("");return e(yn,{maxWidth:"lg",children:l(bn,{direction:"row",justifyContent:"space-between",children:[l(Cn,{children:[t===2&&e(vn,{newPassword:i,onFinish:()=>r("/")}),t===1&&e(fn,{email:a,onNewPassword:g=>{c(g),n(2)}}),t===0&&e(mn,{email:a,setEmail:s,onFinish:()=>n(1)})]}),e(xn,{src:pe})]})})},Pn=()=>e(Sn,{}),$n=({children:t})=>l(N,{children:[e(Ve,{}),e(Te,{}),t,e(ln,{})]}),Ln=()=>{const[t,n]=d.exports.useState(!1),{user:r,setUser:a}=j(),s=(u,g)=>r?g:u,i=d.exports.useCallback((u,g)=>{a(u)},[a]),c=d.exports.useCallback(u=>{O.delete()},[]);return d.exports.useEffect(()=>{n(!0),J()(i,c).finally(()=>n(!1))},[i,c]),t?e(le,{}):l(K,{children:[l(E,{path:"*",element:s(e(q,{to:"/login"}),e($n,{})),children:[e(E,{path:"changePassword",element:e(yt,{})}),e(E,{path:"clients/*",element:e(Bt,{})})]}),e(E,{path:"/login",element:s(e(Yt,{}),e(q,{to:"/"}))}),e(E,{path:"/register",element:s(e(sn,{}),e(q,{to:"/"}))}),e(E,{path:"/forgotPassword",element:s(e(Pn,{}),e(q,{to:"/"}))})]})},En=De({typography:{fontFamily:"Lato-Regular, Lato-Bold"},palette:{primary:{main:"#7a488e"},secondary:{main:"#757575"}},components:{MuiButton:{styleOverrides:{root:{borderRadius:0},outlined:{boxShadow:"0 0 0 1px inset"}}}}}),kn=new Be;function Nn(){return e(Ue,{client:kn,children:e(qe,{theme:En,children:e(_e,{children:e(je,{children:e(Ln,{})})})})})}Me.render(e(ze.StrictMode,{children:e(Nn,{})}),document.getElementById("root"));
